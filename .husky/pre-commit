#!/bin/sh

# Run lint on all packages
echo "Running linter..."
pnpm -r --filter './packages/**' run lint || exit 1

# Run format check
# NOTE: Format check disabled due to oxfmt bug with type guard return types
# https://github.com/oxc-project/oxc/issues/...
# The formatter strips `event is TransactionEvent` to just `{`
# echo "Checking code formatting..."
# pnpm -r --filter './packages/**' run format || exit 1

# Run tests
echo "Running tests..."
pnpm -r --filter './packages/**' run test || exit 1
